var JuSy={};JuSy.DEBUG=true;JuSy.run=function(){(new JuSy.LocalDb.Factory).getLocalDb()};JuSy.LocalDb=JuSy.LocalDb||{};JuSy.LocalDb.API=JuSy.LocalDb.API||{};JuSy.LocalDb.API.Html5=function(){this.name="HTML 5 Web SQL Database";this.isAvailable=function(){if(window.openDatabase)return true}};JuSy.LocalDb=JuSy.LocalDb||{};JuSy.LocalDb.InterfaceAPI=new Interface("InterfaceAPI",["isAvailable"]);JuSy.LocalDb.Factory=function(){function b(){for(var a in JuSy.LocalDb.API)if(typeof JuSy.LocalDb.API[a]=="function"&&typeof a.name!="undefined"){Interface.ensureImplements(a,JuSy.LocalDb.InterfaceAPI);JuSy.log("Found API : "+a.name);JuSy.log("API available "+a.isAvailabe())}}this.getLocalDb=function(){b()}};var Interface=function(b,a){if(arguments.length!=2)throw new Error("Interface constructor called with "+arguments.length+"arguments, but expected exactly 2.");this.name=b;this.methods=[];for(var c=0,d=a.length;c<d;c++){if(typeof a[c]!=="string")throw new Error("Interface constructor expects method names to be passed in as a string.");this.methods.push(a[c])}};
Interface.ensureImplements=function(b){if(arguments.length<2)throw new Error("Function Interface.ensureImplements called with "+arguments.length+"arguments, but expected at least 2.");for(var a=1,c=arguments.length;a<c;a++){var d=arguments[a];if(d.constructor!==Interface)throw new Error("Function Interface.ensureImplements expects arguments two and above to be instances of Interface.");for(var e=0,g=d.methods.length;e<g;e++){var f=d.methods[e];if(!b[f]||typeof b[f]!=="function")throw new Error("Function Interface.ensureImplements: object does not implement the "+
d.name+" interface. Method "+f+" was not found.");}}};JuSy.log=function(b){JuSy.DEBUG&&window.console.info(b)};
